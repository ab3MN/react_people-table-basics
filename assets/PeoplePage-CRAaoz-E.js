import{j as e,L as p,c as l,r as m,P as g,u,a as P}from"./index-DMEaif9P.js";import{T as b}from"./Title-BzmuHEO2.js";const f=({errorMessage:s,dataCy:r})=>e.jsx("p",{"data-cy":r,className:"has-text-danger",children:s}),c=({person:s})=>e.jsx(p,{to:`../${s.slug}`,className:l("",{"has-text-danger":s.sex==="f"}),children:s.name}),o=({parent:s,parentName:r})=>{const t=r||"-";return e.jsx(e.Fragment,{children:s?e.jsx(c,{person:s}):t})},N=({person:s})=>{const{slug:r,sex:t,born:n,died:a,motherName:i,fatherName:d,mother:h,father:x}=s,{personId:j}=m.useContext(g);return e.jsxs("tr",{"data-cy":"person",className:l({"has-background-warning":j===r}),children:[e.jsx("td",{children:e.jsx(c,{person:s})}),e.jsx("td",{children:t}),e.jsx("td",{children:n}),e.jsx("td",{children:a}),e.jsx("td",{children:e.jsx(o,{parent:h,parentName:i})}),e.jsx("td",{children:e.jsx(o,{parent:x,parentName:d})})]})},y=({people:s})=>e.jsxs("table",{"data-cy":"peopleTable",className:"table is-striped is-hoverable is-narrow is-fullwidth",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Sex"}),e.jsx("th",{children:"Born"}),e.jsx("th",{children:"Died"}),e.jsx("th",{children:"Mother"}),e.jsx("th",{children:"Father"})]})}),e.jsx("tbody",{children:s.map(r=>e.jsx(N,{person:r},r.slug))})]}),L=()=>{const{people:s,isLoading:r,error:t}=u(),n=!s.length&&!r,a=()=>t?e.jsx(f,{dataCy:"peopleLoadingError",errorMessage:t}):n?e.jsx("p",{"data-cy":"noPeopleMessage",children:"There are no people on the server"}):s.length?e.jsx(y,{people:s}):null;return e.jsx("div",{className:"block",children:e.jsxs("div",{className:"box table-container",children:[r&&e.jsx(P,{}),a()]})})},k=()=>e.jsxs(e.Fragment,{children:[e.jsx(b,{text:"People Page"}),e.jsx(L,{})]});export{k as default};
